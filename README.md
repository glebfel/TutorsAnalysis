# TutorsAnalysis
 Курсовой проект на тему "Анализ рынка репетиторских услуг".
 
 В папке ParseWeb находятся следующие файлы:
- requirements.txt - список необходимых библиотек Python
- Run.py - исполняемый файл
- config.conf - конфиг с информацией для подкюлчения к базе данных
- chromedriver.exe - драйвер Хрома для Селениума
- Отчёт.pa6 - файл BI-системы Polyanalyst с визуализированным отчётом по всем собранным данным.

Как настроить и запустить скрипт:
1) Установить библиотеки из requirements
2) Ввести свои данные в конфиг-файл - главную ссылку для парсера менять не надо,
   а вот логин, пароль и желаемое название базы - ввести свое
3) В конфигурационном файле базы данных (C:\Program Files\MySQL\MySQL Server X.Y\my.ini)
   следует выставить следующие параметры:
	innodb_log_buffer_size=800M
	innodb_log_file_size=500M
	И затем перезагрузиться.
	Так как в каждой таблице очень много строк, может выпасть ошибка, если оставить параметры по умолчанию.

Работа скрипта:
1) После запуска скрипт собирает ссылки на категории с предметами.
2) Затем пробегается по списку преподавателей соответствующей категории, заходит на страницу каждого специалиста и собирает оценки, доступные услуги и цены.
3) После этого для полученного списка сначала делается бэкап в формате json, затем
   этот список записывается в базу данных, и скрипт переходит к следующей категории.
   Это сделано для того, чтобы после обработки каждой категории было понятно,
   записалась она, или нет, и в случае чего можно было не повторять парсинг, а
   взять данные из json.

Для просмотра итогового отчёта, требуется:
1) Скачать и установить BI-систему Polyanalyst.
2) Открыть программу и выбрать файл Отчёт.pa6 в качетсве открываемого.
3) Зайти в раздел "Web reports" и правой кнопки мыши кликнуть по названию отёта - "Отчёт".
4) Откроется окно браузера, выбранного по умолчанию на вашей операционной системе, с данным отчётом.
5) Для навигации между страницами отчёта используйте кнопки переключения в нижнем правом углу окна или ссылками на главной странице отчёта.
